//Game object goes here.
var hangMan = {

  getRandomPokemon: function() {
    return this.pokemons[Math.floor(Math.random() * this.pokemons.length)];
  },
    
  setSelectedPokemon: function(getRandomPokemon) {
    this.selectedPokemon = getRandomPokemon;
    console.log(this.selectedPokemon)
  },
  getPlaceHolder: function() {
      let placeHolder = [];
      for (i = 0; i < this.selectedPokemon.length; i++) {
          if (i == this.selectedPokemon.length - 1) {
            placeHolder.push("_")
            return placeHolder
          } 
          placeHolder.push("_ ")
      }
      return placeHolder
  },
  setPlaceHolder: function(getPlaceHolder) {
    this.placeHolder = getPlaceHolder;
  },
  pokemons: ["Bulbasaur","Ivysaur","Venusaur","Charmander","Charmeleon","Charizard","Squirtle","Wartortle","Blastoise","Caterpie","Metapod","Butterfree","Weedle","Kakuna","Beedrill","Pidgey","Pidgeotto","Pidgeot","Rattata","Raticate","Spearow","Fearow","Ekans","Arbok","Pikachu","Raichu","Sandshrew","Sandslash","Nidoran","Nidorina","Nidoqueen","Nidoran","Nidorino","Nidoking","Clefairy","Clefable","Vulpix","Ninetales","Jigglypuff","Wigglytuff","Zubat","Golbat","Oddish","Gloom","Vileplume","Paras","Parasect","Venonat","Venomoth","Diglett","Dugtrio","Meowth","Persian","Psyduck","Golduck","Mankey","Primeape","Growlithe","Arcanine","Poliwag","Poliwhirl","Poliwrath","Abra","Kadabra","Alakazam","Machop","Machoke","Machamp","Bellsprout","Weepinbell","Victreebel","Tentacool","Tentacruel","Geodude","Graveler","Golem","Ponyta","Rapidash","Slowpoke","Slowbro","Magnemite","Magneton","Farfetch'd","Doduo","Dodrio","Seel","Dewgong","Grimer","Muk","Shellder","Cloyster","Gastly","Haunter","Gengar","Onix","Drowzee","Hypno","Krabby","Kingler","Voltorb","Electrode","Exeggcute","Exeggutor","Cubone","Marowak","Hitmonlee","Hitmonchan","Lickitung","Koffing","Weezing","Rhyhorn","Rhydon","Chansey","Tangela","Kangaskhan","Horsea","Seadra","Goldeen","Seaking","Staryu","Starmie","Mr. Mime","Scyther","Jynx","Electabuzz","Magmar","Pinsir","Tauros","Magikarp","Gyarados","Lapras","Ditto","Eevee","Vaporeon","Jolteon","Flareon","Porygon","Omanyte","Omastar","Kabuto","Kabutops","Aerodactyl","Snorlax","Articuno","Zapdos","Moltres","Dratini","Dragonair","Dragonite","Mewtwo","Mew"],
  
  getGuessedCharacters: function() {
    if (typeof document.getElementById("div3").textContent != "undefined") {
      return document.getElementById("div3").textContent.replace("Guessed characters: ", "")
    }
  },
  setGuessedCharacters: function(guessCharacters) {
    console.log(guessCharacters)
    this.guessedCharacters = guessCharacters;
  },
  prepareScreen: function() {
      placeHolderDiv = document.createElement("div");
      placeHolderContent = document.createTextNode(this.placeHolder.join(""));
      placeHolderDiv.appendChild(placeHolderContent);
      placeHolderCurrentDiv = document.getElementById("div1");
      document.body.insertBefore(placeHolderDiv, placeHolderCurrentDiv.nextSibling);
    
      guessDiv = document.createElement("div");
      guessDiv.setAttribute("id", "div3")
      guessContent = document.createTextNode("Guessed characters: ");
      guessDiv.appendChild(guessContent);
      guessContentCurrentDiv = document.getElementById("div2");
      document.body.insertBefore(guessDiv, guessContentCurrentDiv.nextSibling);
    },
  getGuess: function() {
    document.body.onkeyup = function(event) {
      if (/^[a-zA-Z]+$/.test(String.fromCharCode(event.keyCode))) {
      document.getElementById("div3").innerHTML += String.fromCharCode(event.keyCode);
      hangMan.setCurrentGuess(hangMan.getCurrentGuess(String.fromCharCode(event.keyCode)));
      hangMan.setGuessedCharacters(hangMan.getGuessedCharacters());
      hangMan.setPopulatePlaceHolder(hangMan.getPopulatePlaceHolder(hangMan.populatePlaceHolder()))
      hangMan.populatePlaceHolder();
      }
    }
  },
  populatePlaceHolder: function() {
    console.log(this.correctArray)
    if (this.selectedPokemon.toUpperCase().split("").includes(this.currentGuess)) {
        if (typeof this.correctArray == "undefined") {
        this.correctArray = this.selectedPokemon.toUpperCase().split("").map(function(letter) {if (letter != this.currentGuess) {
          return letter.replace(letter, "_")}});
        }
      for (let i=0; i<this.correctArray.length; i++) {
      if (this.selectedPokemon.toUpperCase().split("")[i] == this.currentGuess) {
        this.correctArray.splice(i, 1, this.currentGuess)
      }
    }
    return this.correctArray
  }
    return this.correctArray

  },
  setCurrentGuess: function(currentGuess) {
    this.currentGuess = currentGuess;
  },
  getCurrentGuess: function(keyInput) {
    return keyInput
  },
  getPopulatePlaceHolder: function(populatePlaceHolder) {
    return populatePlaceHolder
  },
  setPopulatePlaceHolder: function(correctArray) {
    this.correctArray = correctArray;
  }

}
hangMan.setSelectedPokemon(hangMan.getRandomPokemon());
hangMan.setPlaceHolder(hangMan.getPlaceHolder());
hangMan.prepareScreen();
hangMan.getGuess();
